# TMS570CTemplate

A CMake template for projects using the TMS570LC4357 microcontroller, that can be adapted to other TMS570 family of microcontrollers (see [BUILDING.md](BUILDING.md) for more details).

Tested successfully with TI-provided [Project 0](https://software-dl.ti.com/hercules/hercules_docs/latest/hercules/Examples/Examples.html) (equivalent to Arduino's Blink) on the [LAUNCHXL2-570LC43](https://www.ti.com/tool/LAUNCHXL2-570LC43).

## Directories

* `doc/` - Images for documentation
* `project/BSP/HALCoGen` - The hardware's Board Support Package (BSP), typically drivers generated by HALCoGen goes in here
* `project/cmake` - CMake files to compile the project
* `project/HL_sys_main.c` - main.c program entry point, put your own code here
* `utils/` - Shell script utilities to initiate debugging on the microcontroller with open source tooling (e.g. `openocd`)

## Usage

You will need to install Code Composer Studio from TI, the preferred version being [v12.8.1](https://www.ti.com/tool/download/CCSTUDIO/12.8.1) as it is the last stable release before TI switched over to an Eclipse Theia based IDE (it was originally Eclipse classic), which broke a lot of functionality.

Installing CCS will also install all of the required tooling (compilers, linkers etc.) as long as you make sure to tick the checkbox for TMS570 microcontrollers.

Afterwards, you can directly clone this repository and start using it right away if you are developing for the TMS570LC4357 and use the CLion IDE.

1. Open CLion and open `project/CMakeLists.txt` as a project.
2. Compile the `template` target
3. Check `project/build/bin` to ensure that `template.elf` is successfully built produced. This is the binary that you would need to flash to the development board. 
4. Upload the program to the board by opening CCS and selecting in the top bar `Run > Load > Select Program to Load` which allows you to select the `.elf` file produced. 

## Caveats

No known caveats yet

## Known issues

No known issues yet

## Contributing

If you encounter any issues with this repository, please do not hesitate to open an issue.

## Credits

The original code is developed by [josepablo134](https://github.com/josepablo134). 
